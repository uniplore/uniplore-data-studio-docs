---
title: 任务管理
sidebar_position: 4
---
## 任务列表

本节主要说明**规则实例任务列表**信息。

### 一、列表内容

列表展示**单表校验规则**实例信息和运行情况，用户可通过输入表名搜索查询规则实例，页面如下图所示：  
[ ![](https://uniplore-docs.oss-cn-chengdu.aliyuncs.com/datastudio/data-vaild/monitor-task/task-index.png) ](https://uniplore-docs.oss-cn-chengdu.aliyuncs.com/datastudio/data-vaild/monitor-task/task-index.png)

- 列表的列说明：
  - **表：** 点击表名，将会展开右侧面板，显示任务执行的详细结果。
  - **状态：** 校验任务的状态包括 等待运行、运行中、运行失败、校验通过、校验未通过。
    - **等待运行：** 规则实例已生成，等待运行。
    - **运行中：** 当「调度周期」配置的时间已达到，并且「关联的离线任务」运行成功（如果该规则已关联离线任务），则规则开始运行。
    - **运行失败：** 规则运行失败，具体原因可点击查看日志。
    - **校验通过：** 规则执行完成，并且校验数据满足规则配置。
    - **校验未通过：** 规则执行完成，但是校验数据不满足规则配置。此时关联的离线任务状态会同时置为失败（如果该规则已关联离线任务并且是强规则）。
    - **类型：** 区分**单表校验规则**和**多表校验**规则（目前仅支持单表校验规则）。
  - **数据源：** 显示当前规则表所在的数据源。
  - **数据源类型：** 显示当前规则表所在的数据源的数据库类型。
  - **执行周期：** 这个等同于触发类型，表示当前监控规则的触发是根据调度周期触发，还是「立即执行」手动触发的。
  - **开始时间：** 该质量实例实际开始运行的时间。
  - **结束时间：** 该质量实例运行完成的时间。
  - **运行时长：** 结束时间-开始时间。
  - **最近修改人：** 最近一次修改该规则的用户。

### 二、单表校验规则报告

在**任务管理**页面中，点击表名，在右侧弹出的面板中列出了此任务执行的校验结果，校验结果中包括**检验报告**和**表级报告**。

- **检验报告：** 统计了此任务等待运行、运行中、运行失败、校验通过、校验未通过的数量，点击按钮可查看具体校验规则信息。  
  [ ![](https://uniplore-docs.oss-cn-chengdu.aliyuncs.com/datastudio/data-vaild/monitor-task/monitor-report.png) ](https://uniplore-docs.oss-cn-chengdu.aliyuncs.com/datastudio/data-vaild/monitor-task/monitor-report.png)
- **表级报告：**  
  [ ![](https://uniplore-docs.oss-cn-chengdu.aliyuncs.com/datastudio/data-vaild/monitor-task/table-report.png) ](https://uniplore-docs.oss-cn-chengdu.aliyuncs.com/datastudio/data-vaild/monitor-task/table-report.png)

  - **表级报告：** 显示任务最近一次执行时间及其引发的报警数量。
  - **最近 30 次综合报告：**
    - **记录数平均波动率：** SUM(最近 30 天，每天记录数的波动率)/29；某一天的记录数的波动率=当天的记录数/前一天的记录数-1。波动率越高，说明业务系统产出的数据量不稳定，更容易触发告警。
    - **平均告警数：** SUM(最近 30 天，每天的告警总数)/30。
    - **平均告警率：** SUM(最近 30 天，每天的告警总数)/SUM(最近 30 天，每天的规则数求和)。  
      **TIP：**平均告警数、平均告警率越高，说明这张表经常出问题，或者规则配置过于严格，容易触发告警。
  - **最近 30 次表级统计: ** 列出最近 30 次校验的执行时间、检测的分区、总告警数目。
  - **最近 30 次表数据波动图：** 以折线图的形式显示最近 30 天表内数据量的变化趋势和触发的告警数量。

  **TIP:** 以上各统计模块，不足 30 天时，按照实际天数计算。
